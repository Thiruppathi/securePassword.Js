function SecurePasswordUI(){var e;var t;var n=new SecurePassword;var r=15;this.buildCharsetsForm=function(e){var t=n.getAvailableCharsets();for(var r in t){var i=$("<div/>").text(t[r]).html();var s=r;var o="";var u=Object.keys(n.getEnabledCharsets());if($.inArray(r,u)>=0){o='checked="yes"'}$(e).append('<input type="checkbox" id="'+s+'" '+o+'/><label for="'+s+'">'+r+" ("+i+")</label><br />");$("#"+s).change(function(){if(this.checked)n.enableCharsetByName(this.id);else n.disableCharsetByName(this.id)}).bind(r)}return this};this.buildGaugeElement=function(e){var n={lines:12,angle:0,lineWidth:.44,pointer:{length:.72,strokeWidth:.064,color:"#3300FF"},limitMax:"false",colorStart:"#00FF00",colorStop:"#FF0000",strokeColor:"#A8A8A8",generateGradient:true};var r=document.getElementById(e);t=(new Gauge(r)).setOptions(n);t.maxValue=100;t.animationSpeed=40;t.set(.1);return this};this.buildGenerateButton=function(e){$(e).button().click(function(e){generatePasswordInUI()});return this};this.buildTestButton=function(e){$(e).button().click(function(e){testPassword($("#generatedPassword").val())});return this};this.buildOptionsForm=function(e){var t="repeatAllowed";var i='checked="yes"';var s="";$(e).append('<input type="checkbox" id="'+t+'" '+i+'/><label for="'+t+'">Allow character repetition</label><br />');$("#"+t).change(function(){if(this.checked)n.setCharacterRepetitionAllowed(true);else n.setCharacterRepetitionAllowed(false)});t="easierPattern";$(e).append('<input type="checkbox" id="'+t+'" '+s+'/><label for="'+t+'">Make pattern easier to remember (character repetition would be allowed)</label><br />');$("#"+t).change(function(){if(this.checked){n.setEasyPasswordRequested(true);document.getElementById("repeatAllowed").disabled=true;document.getElementById("easyPatternUsesDict").disabled=false}else{n.setEasyPasswordRequested(false);document.getElementById("repeatAllowed").disabled=false;document.getElementById("easyPatternUsesDict").disabled=true}});document.getElementById("repeatAllowed").disabled=false;t="easyPatternUsesDict";$(e).append('<input type="checkbox" id="'+t+'" '+s+'/><label for="'+t+'">Use dictionaries for pattern easier to remember (can contain other characters than selected)</label><br />');$("#"+t).change(function(){if(this.checked){n.useDictionaryForEasyPasswordRequested(true)}else{n.useDictionaryForEasyPasswordRequested(false)}});document.getElementById("easyPatternUsesDict").disabled=true;$(e).append('<label for="spinner">Password size:</label><input id="spinner" name="value" value="15" type="number" min="1" max="255" required/>');var o=$("#spinner").spinner({min:5,max:1e3,step:1,start:r,spin:function(e,t){r=t.value},_parse:function(e){if(!isNaN(parseInt(e))){r=parseInt(e)}}});return this};copyToClipboard=function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)};this.buildRatingElements=function(t){e=$(t);var r=n.getLastRatingDetails();for(var i in r){var s="r"+i+"Col";var o="r"+i+"Txt";var u="r"+i+"Val";e.append('<div id="'+s+'">'+$("<div/>").text(i).html()+': <span id="'+o+'"></span><span id="'+u+'"></span></div><br />')}return this};showRatings=function(){var e=n.getLastRatingDetails();for(var t in e){var r=e[t];var i="#r"+t+"Col";var s="#r"+t+"Txt";var o="#r"+t+"Val";showRatingElement(s,o,i,r)}return this};generatePasswordInUI=function(){var e=parseInt($("#spinner").val());if(!isNaN(e)){r=e}var t=n.makePasswordWithSize(r);$("#generatedPassword").val(t);testPassword(t);copyToClipboard(t);return this};testPassword=function(e){var r=n.ratePassword(e);showRatingElement("#passwordRate","#passwordRateValue","#coloredRate",r);showRatings();if(typeof t!=="undefined"){t.set(r.rating*100)}return this};showRatingElement=function(e,t,r,i){$(r).attr("class",n.passwordStrengthDescFromRate(i.rating));$(e).text(""+n.passwordStrengthDescFromRate(i.rating));$(t).text(" ("+(i.rating*100).toFixed(2)+"%)"+" - "+i.comment);return this}}